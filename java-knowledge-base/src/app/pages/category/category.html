@if (category(); as cat) {
  <section class="category-hero" [style.border-bottom-color]="cat.color">
    <div class="container-xl">
      <a routerLink="/" class="back-link d-inline-flex align-items-center gap-1">
        <i class="fa-solid fa-arrow-left"></i>
        Back to Home
      </a>
      <div class="category-header d-flex align-items-start gap-3">
        <span class="category-icon flex-shrink-0">{{ cat.icon }}</span>
        <div>
          <h1>{{ cat.name }}</h1>
          <p>{{ cat.description }}</p>
        </div>
      </div>
    </div>
  </section>

  <section class="topics-list">
    <div class="container-xl">
      <h2 class="section-title d-flex align-items-center gap-2">
        <i class="fa-solid fa-file-lines title-icon"></i>
        {{ topics().length }} Topics
      </h2>
      <div class="row g-3">
        @for (topic of topics(); track topic.id) {
          <div class="col-12 col-sm-6 col-lg-4">
            <a [routerLink]="['/topic', topic.id]" class="topic-card-link d-block h-100">
              <mat-card appearance="outlined" class="topic-card h-100">
                <mat-card-content>
                  <div class="topic-header d-flex justify-content-between align-items-center mb-2">
                    <span class="topic-icon">{{ topic.icon }}</span>
                    <mat-chip [class]="getDifficultyClass(topic.difficulty)" highlighted>
                      <i [class]="getDifficultyIcon(topic.difficulty)"></i>
                      {{ topic.difficulty }}
                    </mat-chip>
                  </div>
                  <h3 class="topic-title">{{ topic.title }}</h3>
                  <p class="topic-desc">{{ topic.description }}</p>
                  <div class="topic-tags d-flex flex-wrap gap-1">
                    @for (tag of topic.tags; track tag) {
                      <mat-chip class="tag-chip">{{ tag }}</mat-chip>
                    }
                  </div>
                </mat-card-content>
              </mat-card>
            </a>
          </div>
        }
      </div>
    </div>
  </section>
} @else {
  <section class="not-found text-center">
    <div class="container-xl">
      <i class="fa-solid fa-magnifying-glass-minus not-found-icon d-block"></i>
      <h1>Category Not Found</h1>
      <p>The category you're looking for doesn't exist.</p>
      <a routerLink="/" mat-flat-button class="back-btn">Back to Home</a>
    </div>
  </section>
}
